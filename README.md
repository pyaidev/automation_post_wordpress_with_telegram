
# Telegram to WordPress Интеграционный Бот

Этот бот автоматически публикует сообщения из Telegram канала на WordPress сайт. Он представляет собой решение для кросс-постинга, которое позволяет сохранять единый контент-поток между вашим Telegram каналом и WordPress блогом.

## Функциональность

* Автоматическая публикация текстовых сообщений из Telegram канала на WordPress сайт
* Поддержка публикаций с изображениями (загрузка в медиатеку WordPress)
* Сохранение форматирования текста при публикации
* Добавление ссылки на оригинальный пост в Telegram
* Уведомления администратора о результатах публикации
* Команды для проверки статуса подключения

## Требования

* Python 3.7+
* Telegram Bot API Token
* WordPress сайт с настроенным REST API
* Учетные данные WordPress с правами на публикацию

## Настройка

### Переменные окружения

Создайте файл `.env` в корневой директории проекта со следующими переменными:

```
TELEGRAM_BOT_TOKEN=ваш_токен_бота
TELEGRAM_CHANNEL_ID=идентификатор_канала
ADMIN_USER_ID=телеграм_id_администратора
WP_URL=https://ваш-сайт.com
WP_USERNAME=имя_пользователя_wordpress
WP_PASSWORD=пароль_или_application_password
```

### Установка зависимостей

```bash
pip install -r requirements.txt
```

## Использование

### Запуск бота

```bash
python automated_w_tg.py
```

### Команды бота

* `/start` - Инициализация бота (доступно только администратору)
* `/status` - Проверка подключения к WordPress (доступно только администратору)

## Как это работает

1. Бот подписывается на все сообщения в указанном Telegram канале
2. При появлении нового сообщения, бот:
   * Извлекает текст и медиафайлы (если есть)
   * Форматирует контент для WordPress
   * Загружает изображения в медиатеку WordPress (если есть)
   * Создает пост с соответствующим форматированием и ссылкой на оригинал
   * Отправляет уведомление администратору о результате публикации

## Безопасность

* Доступ к командам бота ограничен только администратором
* Используется базовая аутентификация для WordPress API
* Для повышения безопасности рекомендуется использовать Application Passwords в WordPress

## Дополнительная информация

Бот использует Python библиотеку `python-telegram-bot` для взаимодействия с Telegram API и стандартную библиотеку `requests` для взаимодействия с WordPress REST API.

## Устранение неполадок

Если возникают проблемы с подключением к WordPress, убедитесь, что:

* REST API включен на вашем WordPress сайте
* Учетные данные имеют достаточные права для публикации
* Ваш сайт доступен из интернета и не блокирует запросы

## Лицензия

MIT
